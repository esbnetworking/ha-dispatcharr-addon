name: "Dispatcharr"
description: "Dispatcharr IPTV management"
version: "latest"
slug: "dispatcharr"
arch:
  - aarch64  # Specific for Raspberry Pi 4 (64-bit)
startup: application
boot: auto
image: "ghcr.io/dispatcharr/dispatcharr"
ports:
  9191/tcp: 9191
map:
  - share:rw
# Pi 4 specific: Enables GPU access for FFmpeg transcoding
video: true
privileged:
  - SYS_NICE
options:
  DISPATCHARR_ENV: "aio"
  REDIS_HOST: "localhost"
  CELERY_BROKER_URL: "redis://localhost:6379/0"
  DISPATCHARR_LOG_LEVEL: "info"
  UWSGI_NICE_LEVEL: -5  # Higher priority recommended for streaming on Pi 4
  CELERY_NICE_LEVEL: 5
schema:
  DISPATCHARR_ENV: str
  REDIS_HOST: str
  CELERY_BROKER_URL: str
  DISPATCHARR_LOG_LEVEL: "list(debug|info|warning|error)"
  UWSGI_NICE_LEVEL: "int(-20;19)"
  CELERY_NICE_LEVEL: "int(-20;19)"
